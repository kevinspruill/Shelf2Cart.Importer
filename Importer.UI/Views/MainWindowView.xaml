<sync:ChromelessWindow
    x:Class="Importer.UI.Views.MainWindowView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:sync="http://schemas.syncfusion.com/wpf"
    Title="{Binding Title}"
    Width="900"
    Height="600"
    prism:ViewModelLocator.AutoWireViewModel="True"
    AllowsTransparency="True"
    CornerRadius="10"
    Icon="{Binding Icon}"
    TitleBarBackground="#145571"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Menu
            Grid.Row="0"
            Padding="5"
            Background="{StaticResource GrayBrush}"
            FontSize="16"
            Foreground="{StaticResource BlueBrush}">
            <MenuItem Header="_File">
                <MenuItem Command="{Binding ExitCommand}" Header="Exit" />
            </MenuItem>
            <MenuItem Header="Instances">
                <MenuItem
                    Command="{Binding NavigateToContent}"
                    CommandParameter="InstanceManagerView"
                    Header="Manage" />
                <MenuItem
                    Command="{Binding NavigateToContent}"
                    CommandParameter="AddInstanceView"
                    Header="Add New" />
            </MenuItem>
            <MenuItem Header="Settings">
                <MenuItem
                    Command="{Binding NavigateToContent}"
                    CommandParameter="ImporterSettingsView"
                    Header="Importer Settings" />
                <MenuItem
                    Command="{Binding NavigateToContent}"
                    CommandParameter="DefaultValuesView"
                    Header="Default Values" />
                <MenuItem
                    Command="{Binding NavigateToContent}"
                    CommandParameter="ProcessDatabaseSettingsView"
                    Header="Process Database" />
                <Separator />
                <MenuItem Header="Modules">
                    <MenuItem
                        Command="{Binding NavigateToContent}"
                        CommandParameter=""
                        Header="Admin" />
                    <MenuItem
                        Command="{Binding NavigateToContent}"
                        CommandParameter=""
                        Header="Generic" />
                    <MenuItem
                        Command="{Binding NavigateToContent}"
                        CommandParameter=""
                        Header="Invafresh" />
                    <MenuItem
                        Command="{Binding NavigateToContent}"
                        CommandParameter="ConsoleView"
                        Header="Parsley" />
                    <MenuItem
                        Command="{Binding NavigateToContent}"
                        CommandParameter="ConsoleView"
                        Header="UpShop/ADC"
                        IsEnabled="False" />
                    <MenuItem
                        Command="{Binding NavigateToContent}"
                        CommandParameter=""
                        Header="Grocery Signage" />
                </MenuItem>

            </MenuItem>
            <MenuItem Header="Service Control">
                <MenuItem
                    Command="{Binding InstallServiceCommand}"
                    Header="Install"
                    IsEnabled="{Binding IsServiceInstalled, Converter={StaticResource InverseBooleanConverter}}" />
                <MenuItem Command="{Binding StartServiceCommand}" Header="Start" />
                <MenuItem Command="{Binding RestartServiceCommand}" Header="Restart" />
                <MenuItem Command="{Binding StopServiceCommand}" Header="Stop" />
            </MenuItem>
            <MenuItem Header="Logging">
                <MenuItem
                    Command="{Binding NavigateToContent}"
                    CommandParameter="ConsoleView"
                    Header="Service Console" />
                <MenuItem Command="{Binding OpenLogFilesCommand}" Header="Log Files" />
            </MenuItem>
            <MenuItem Header="Help">
                <MenuItem Command="{Binding OpenLogFilesCommand}" Header="About" />
            </MenuItem>
        </Menu>

        <ContentControl
            x:Name="TopRegion"
            Grid.Row="1"
            prism:RegionManager.RegionName="TopRegion" />
        <ContentControl
            x:Name="ContentRegion"
            Grid.Row="2"
            prism:RegionManager.RegionName="ContentRegion"
            Background="LightBlue" />
        <ContentControl
            x:Name="BottomRegion"
            Grid.Row="3"
            prism:RegionManager.RegionName="BottomRegion" />

        <!--  Service Status  -->
        <Border
            Grid.Row="4"
            Padding="10"
            Background="{StaticResource BlueBrush}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock
                        VerticalAlignment="Center"
                        Foreground="White"
                        Text="Service Status: " />
                    <TextBlock
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="{Binding ServiceStatus}" />
                </StackPanel>

                <Button
                    x:Name="ServiceControlButton"
                    Grid.Column="2"
                    Width="100"
                    Command="{Binding ServiceControlCommand}"
                    CommandParameter="S2C_ImporterService"
                    Content="{Binding ServiceButtonText}"
                    Style="{StaticResource AddButtonStyle}" />
            </Grid>
        </Border>

    </Grid>

</sync:ChromelessWindow>